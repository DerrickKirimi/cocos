###
# Copyright (c) 2015-2017 Mainflux
#
# Mainflux is licensed under an Apache license, version 2.0 license.
# All rights not explicitly granted in the Apache license, version 2.0 are reserved.
# See the included LICENSE file for more details.
###

version: "3.7"

networks:
  docker_mainflux-base-net:
    external: true

services:
  agent:
    image: mainflux/agent:latest
    container_name: mainflux-agent
    restart: on-failure
    environment:
      CC_AGENT_LOG_LEVEL: ${CC_AGENT_LOG_LEVEL}
      CC_AGENT_HTTP_PORT: ${CC_AGENT_HTTP_PORT}
      CC_AGENT_SERVER_CERT: ${CC_AGENT_SERVER_CERT}
      CC_AGENT_SERVER_KEY: ${CC_AGENT_SERVER_KEY}
      CC_JAEGER_URL: ${CC_JAEGER_URL}
      CC_AGENT_SECRET: ${CC_AGENT_SECRET}
    ports:
      - ${CC_AGENT_HTTP_PORT}:${CC_AGENT_HTTP_PORT}
    networks:
      - docker_mainflux-base-net
